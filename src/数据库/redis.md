## Redis基础相关问题
* 1. Redis 是什么？说说它的优点和缺点？
* 2. Redis与memcached相比有哪些优势？
* 3. Redis支持哪几种数据类型？
* 4. Redis主要消耗什么物理资源？
* 5. Redis有哪几种数据淘汰策略？
* 6. Redis官方为什么不提供Windows版本？
* 7. 一个字符串类型的值能存储最大容量是多少？
* 8. 如何将 Redis 放到应用程序中？
* 9. 使用 Redis 的时候应用程序是如何进行读写的？
* 10. 为什么Redis需要把所有数据放到内存中？
* 11. 什么是CAP理论？

## Redis集群相关问题
* 1. Redis集群方案应该怎么做？都有哪些方案？
* 2. Redis集群方案什么情况下会导致整个集群不可用？
* 3. MySQL里有2000w数据，redis中只存20w的数据，如何保证redis中的数据都是热点数据？
* 4. Redis有哪些适合的场景？
* 5. Redis支持的Java客户端都有哪些？官方推荐用哪个？
* 6. Redis和Redisson有什么关系？
* 7. Jedis与Redisson对比有什么优缺点？
* 8. 说说Redis哈希槽的概念？
* 9. Redis集群的主从复制模型是怎样的？
* 10. Redis集群会有写操作丢失吗？为什么？
* 11. Redis集群之间是如何复制的？
* 12. Redis集群最大节点个数是多少？
* 13. Redis集群如何选择数据库？
* 14. Redis中的管道有什么用？

## Redis分布式锁等相关问题
* 1. 使用过Redis分布式锁么，它是怎么实现的？
* 2. 简述Redis分布式锁的缺陷？
* 3. 讲讲对Redisson实现Redis分布式锁的底层原理的理解？
* 4. 加锁机制，锁互斥机制，watch dog自动延期机制，可重入加锁机制，锁释放机制是什么？
* 5. Redis 的 Setnx 命令是如何实现分布式锁的？
* 6. 说说对Setnx 的实现锁的原理的理解？
* 7. 如何避免死锁的出现？
* 8. 怎么理解Redis事务？
* 9. Redis事务相关的命令有哪几个？
* 10. Redis key的过期时间和永久有效分别怎么设置？
* 11. Redis如何做内存优化？
* 12. Redis回收进程如何工作的？
* 13. 使用过Redis做异步队列么，你是怎么用的？有什么缺点？
* 14. 什么是缓存穿透？如何避免？什么是缓存雪崩？何如避免？

## Redis结合MySQL 的相关问题
* 1. Redis 如何与 MySQL 数据库结合起来？
* 2. 应用通过 Redis 客户端进行读取并展示，是所有的数据都是这么做吗？
* 3. 在修改数据的时候是修改到 Redis 吗？还是直接修改 MySQL?
* 4. 如果修改 Redis 中数据，那什么时候同步到 MySQL，是被迫的，还是开发人员可控的？
* 5. 如果直接修改 MySQL 中数据，那 Redis 中数据会被同步吗，如何做到的？

### 1.Redis 是什么？说说它的优点和缺点？

### 使用redis有哪些好处？
* (1) 速度快，因为数据存在内存中，类似于HashMap，HashMap的优势就是查找和操作的时间复杂度都是O(1)
* (2) 支持丰富数据类型，支持string，list，set，sorted set，hash
* (3) 支持事务，操作都是原子性，所谓的原子性就是对数据的更改要么全部执行，要么全部不执行
* (4) 丰富的特性：可用于缓存，消息，按key设置过期时间，过期后将会自动删除

### redis相比memcached有哪些优势？
* memcached所有的值均是简单的字符串，redis作为其替代者，支持更为丰富的数据类型
* Redis中，并不是所有的数据都一直存储在内存中的，这是和Memcached相比一个最大的区别。
* Redis在很多方面具备数据库的特征，或者说就是一个数据库系统，而Memcached只是简单的K/V缓存。
* 他们的扩展都需要做集群；实现方式：master-slave、Hash。
* 如果要说内存使用效率，使用简单的key-value存储的话，Memcached的内存利用率更高，而如果Redis采用hash结构来做key-value存储，由于其组合式的压缩，其内存利用率会高于Memcached。当然，这和你的应用场景和数据特性有关。
* 如果你对数据持久化和数据同步有所要求，那么推荐你选择Redis，因为这两个特性Memcached都不具备。即使你只是希望在升级或者重启系统后缓存数据不会丢失，选择Redis也是明智的。
* Redis和Memcache在写入性能上面差别不大，读取性能上面尤其是批量读取性能上面Memcache更强

### redis常见性能问题和解决方案：
* (1) Master最好不要做任何持久化工作，如RDB内存快照和AOF日志文件
* (2) 如果数据比较重要，某个Slave开启AOF备份数据，策略设置为每秒同步一次
* (3) 为了主从复制的速度和连接的稳定性，Master和Slave最好在同一个局域网内
* (4) 尽量避免在压力很大的主库上增加从库
* (5) 主从复制不要用图状结构，用单向链表结构更为稳定，即：Master <- Slave1 <- Slave2 <- Slave3...
这样的结构方便解决单点故障问题，实现Slave对Master的替换。如果Master挂了，可以立刻启用Slave1做Master，其他不变。

### 使用过Redis分布式锁么，它是什么回事？
* 先拿setnx来争抢锁，抢到之后，再用expire给锁加一个过期时间防止锁忘记了释放。

### Redis如何做持久化的？
bgsave做镜像全量持久化，aof做增量持久化。因为bgsave会耗费较长时间，不够实时，在停机的时候会导致大量丢失数据，所以需要aof来配合使用。在redis实例重启时，会使用bgsave持久化文件重新构建内存，再使用aof重放近期的操作指令来实现完整恢复重启之前的状态。
对方追问那如果突然机器掉电会怎样？取决于aof日志sync属性的配置，如果不要求性能，在每条写指令时都sync一下磁盘，就不会丢失数据。但是在高性能的要求下每次都sync是不现实的，一般都使用定时sync，比如1s1次，这个时候最多就会丢失1s的数据。
对方追问bgsave的原理是什么？你给出两个词汇就可以了，fork和cow。fork是指redis通过创建子进程来进行bgsave操作，cow指的是copy on write，子进程创建后，父子进程共享数据段，父进程继续提供读写服务，写脏的页面数据会逐渐和子进程分离开来。

### redis支持的类型有哪些
* set
* sortedSet
* list
* string
* int
* hash


### CAP理论

* CAP定理（CAP theorem）, 又被称作 布鲁尔定理（Brewer's theorem）, 它指出对于一个分布式计算系统来说，不可能同时满足以下三点:
  * 一致性(Consistency) (所有节点在同一时间具有相同的数据)
  * 可用性(Availability) (保证每个请求不管成功或者失败都有响应)
  * 分隔容忍(Partition tolerance) (系统中任意信息的丢失或失败不会影响系统的继续运作)
* CAP理论的核心是：一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求，最多只能同时较好的满足两个。因此，根据CAP原理分成了满足CA原则、满足CP原则和满足AP原则三大类：
  * CA - 单点集群，满足一致性，可用性的系统，通常在可扩展性上不太强大。
  * CP - 满足一致性，分区容忍性的系统，通常性能不是特别高。
  * AP - 满足可用性，分区容忍性的系统，通常可能对一致性要求低一些。